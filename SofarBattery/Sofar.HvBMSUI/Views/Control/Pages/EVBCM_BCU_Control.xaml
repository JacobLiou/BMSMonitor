<UserControl x:Class="Sofar.HvBMSUI.Control.Pages.EVBCM_BCU_Control"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Sofar.HvBMSUI.Control.Pages" 
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes" 
             xmlns:viewmodels="clr-namespace:Sofar.HvBMSUI.ViewModels" 
             d:DataContext="{d:DesignInstance Type=viewmodels:BCU_Control_ViewModel}" mc:Ignorable="d" 
             d:DesignHeight="2900" Width="1480">

    <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
        <Grid Margin="10" Background="White">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>

            <!-- 数据采集及存储设置 -->
            <GroupBox Header="数据采集及存储设置" Grid.Row="0" Grid.Column="0" Margin="0,0,0,10">
                <StackPanel Orientation="Horizontal" >
                    <Label Content="数据采集间隔(ms): " Margin="20,0,0,0" Width="120"  VerticalAlignment="Center" />
                    <TextBox x:Name="txtDataCollectionInterval" Margin="5,0,0,5" Text="{Binding DataCollectionInterval,UpdateSourceTrigger=PropertyChanged}" Width="100" TextAlignment="Center"  VerticalContentAlignment="Center" />
                    <Button x:Name="btnStartDataCollection" Margin="5,0,0,0" Content="启动数据采集" IsEnabled="{Binding IsStartDataCollectionEnabled,UpdateSourceTrigger=PropertyChanged}" Command="{Binding StartDataCollectionCmd}"/>
                    <Button x:Name="btnStopDataCollection" Margin="5,0,0,0" Content="停止数据采集"  IsEnabled="{Binding IsStopDataCollectionEnabled,UpdateSourceTrigger=PropertyChanged}"  Command="{Binding StopDataCollectionCmd}"/>
                    <CheckBox x:Name="ckStartDataSaving" Margin="25,0,0,0" Content="启动数据保存" IsChecked="{Binding IsChecked_StartDataSaving}"/>
                    <Label Content="数据保存间隔(ms): " Margin="25,0,0,0" Width="120" VerticalAlignment="Center" VerticalContentAlignment="Center"/>
                    <TextBox x:Name="txtDataStorageInterval" Margin="5,0,0,5" Text="{Binding DataStorageInterval}" Width="100" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                    <Label Content="BCU设备地址" FontSize="16" Foreground="OrangeRed"    Margin="20,0,0,0" Width="120"  VerticalAlignment="Center" />
                    <ComboBox x:Name="ckbAddress_BCU" FontSize="16" Width="100" BorderBrush="OrangeRed" Foreground="OrangeRed"  Margin="10,0,0,0" BorderThickness="1" ItemsSource="{Binding Address_BCU_List}"   SelectedItem="{Binding SelectedAddress_BCU,Mode=TwoWay}">
                        <ComboBox.ToolTip>
                            <ToolTip Background="LightGreen" Placement="MousePoint"  Foreground="Black">
                                切换此地址可读取对应BCU设备的实时数据
                            </ToolTip>
                        </ComboBox.ToolTip>
                    </ComboBox>
                </StackPanel>
            </GroupBox>

            <GroupBox Header="组端采集模块信息" Grid.Row="1" Grid.Column="0" Margin="0,0,0,10">
                <StackPanel Margin="10">
                    <!-- 第一行 -->
                    <StackPanel Orientation="Horizontal" Margin="5,0,0,0">
                        <Label Content="组端电压(V)" Margin="5" Width="100"/>
                        <TextBox x:Name="txtGroupTerminalVoltage" Margin="10,0,0,10" Text="{Binding GroupTerminalVoltage,UpdateSourceTrigger=PropertyChanged}" Width="80" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="组端电流1(A)" Margin="50,5,5,5" Width="100"/>
                        <TextBox x:Name="txtGroupEndCurrent_1" Margin="10,0,0,10"    Text="{Binding GroupEndCurrent_1,UpdateSourceTrigger=PropertyChanged}"    Width="80" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="组端电流2(A)" Margin="50,5,5,5" Width="100"/>
                        <TextBox x:Name="txtGroupEndCurrent_2" Margin="10,0,0,10"    Text="{Binding GroupEndCurrent_2,UpdateSourceTrigger=PropertyChanged}"    Width="80" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="组端电流3(A)" Margin="50,5,5,5" Width="100"/>
                        <TextBox x:Name="txtGroupEndCurrent_3" Margin="10,0,0,10"    Text="{Binding GroupEndCurrent_3,UpdateSourceTrigger=PropertyChanged}"    Width="80" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="预充电压(V)" Margin="50,5,5,5" Width="100"/>
                        <TextBox x:Name="txtPreChargeVoltage" Margin="10,0,0,10"     Text="{Binding PreChargeVoltage,UpdateSourceTrigger=PropertyChanged}"     Width="80" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                    </StackPanel>

                    <!-- 第二行 -->
                    <StackPanel Orientation="Horizontal" Margin="5,0,0,0">
                        <Label Content="绝缘电阻R+(KΩ)" Margin="5" Width="100"/>
                        <TextBox x:Name="txtInsulationResistance_R_Positive" Margin="10,0,0,10" Text="{Binding InsulationResistance_R_Positive,UpdateSourceTrigger=PropertyChanged}" Width="80" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="绝缘电阻R-(KΩ)" Margin="50,5,5,5" Width="100"/>
                        <TextBox x:Name="txtInsulationResistance_R_Negative" Margin="10,0,0,10" Text="{Binding InsulationResistance_R_Negative,UpdateSourceTrigger=PropertyChanged}" Width="80" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="模块温度(℃)" Margin="50,5,5,5" Width="100"/>
                        <TextBox x:Name="txtModuleTemperature" Margin="10,0,0,10" Text="{Binding ModuleTemperature,UpdateSourceTrigger=PropertyChanged}" Width="80" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="供电电压(V)" Margin="50,5,5,5" Width="100"/>
                        <TextBox x:Name="txtSupplyVoltage" Margin="10,0,0,10" Text="{Binding SupplyVoltage,UpdateSourceTrigger=PropertyChanged}" Width="80" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="组端SOC(%)" Margin="50,5,5,5" Width="100"/>
                        <TextBox x:Name="txtGroupEndSOC" Margin="10,0,0,10" Text="{Binding GroupEndSOC,UpdateSourceTrigger=PropertyChanged}" Width="80" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                    </StackPanel>

                    <!-- 第三行 -->
                    <StackPanel Orientation="Horizontal" Margin="5,0,0,0">
                        <Label Content="组端温度1(℃)" Margin="5" Width="100"/>
                        <TextBox x:Name="txtGroupEndTemperature_1" Margin="10,0,0,10" Text="{Binding GroupEndTemperature_1,UpdateSourceTrigger=PropertyChanged}" Width="80" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="组端温度2(℃)" Margin="50,5,5,5" Width="100"/>
                        <TextBox x:Name="txtGroupEndTemperature_2" Margin="10,0,0,10" Text="{Binding GroupEndTemperature_2,UpdateSourceTrigger=PropertyChanged}" Width="80" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="组端温度3(℃)" Margin="50,5,5,5" Width="100" />
                        <TextBox x:Name="txtGroupEndTemperature_3" Margin="10,0,0,10" Text="{Binding GroupEndTemperature_3,UpdateSourceTrigger=PropertyChanged}" Width="80" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="组端温度4(℃)" Margin="50,5,5,5" Width="100"/>
                        <TextBox x:Name="txtGroupEndTemperature_4" Margin="10,0,0,10" Text="{Binding GroupEndTemperature_4,UpdateSourceTrigger=PropertyChanged}" Width="80" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="循环次数" Margin="50,5,5,5" Width="100"/>
                        <TextBox x:Name="txtCycleCount" Margin="10,0,0,10" Text="{Binding CycleCount,UpdateSourceTrigger=PropertyChanged}" Width="80" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                    </StackPanel>

                    <!-- 第四行 -->
                    <StackPanel Orientation="Horizontal" Margin="5,0,0,0">
                        <Label Content="累计充电容量(AH)" Margin="5" Width="100"/>
                        <TextBox Margin="10,0,0,10" Text="{Binding CumulativeChargeCapacity,UpdateSourceTrigger=PropertyChanged}" Width="80" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="累计放电容量(AH)" Margin="50,5,5,5" Width="100"/>
                        <TextBox Margin="10,0,0,10" Text="{Binding CumulativeDischargeCapacity,UpdateSourceTrigger=PropertyChanged}" Width="80" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="累计充电能量(KW)" Margin="50,5,5,5" Width="100" />
                        <TextBox Margin="10,0,0,10" Text="{Binding CumulativeChargeEnergy,UpdateSourceTrigger=PropertyChanged}" Width="80" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="累计放电能量(KW)" Margin="50,5,5,5" Width="100"/>
                        <TextBox Margin="10,0,0,10" Text="{Binding CumulativeDischargeEnergy,UpdateSourceTrigger=PropertyChanged}" Width="80" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                    </StackPanel>
                </StackPanel>
            </GroupBox>

            <!-- 报警信息 -->
            <GroupBox Header="报警信息" Grid.Row="3" Grid.Column="0" Margin="0,10,0,10">
                <StackPanel Margin="10">
                    <StackPanel Orientation="Horizontal"  Grid.Row="4" Grid.Column="0">
                        <Button x:Name="txtRefreshAlarmMessage" Content="刷新报警信息" Margin="10" Width="120" Command="{Binding RefreshAlarmMessageCmd}">
                            <Button.ToolTip>
                                <ToolTip Background="LightGreen" Placement="MousePoint"  Foreground="Black">
                                    点击此按钮可将已结束的报警信息取消显示
                                </ToolTip>
                            </Button.ToolTip>
                        </Button>
                    </StackPanel>
                    <StackPanel Margin="10">
                        <DataGrid Name="BatteryDataGrid1" Grid.Row="5" Grid.Column="0" MaxHeight="400" BorderBrush="Gray" BorderThickness="1.5" IsReadOnly="True"  ScrollViewer.VerticalScrollBarVisibility="Auto" AutoGenerateColumns="False" CanUserAddRows="False" CanUserSortColumns="False"  HeadersVisibility="All"  GridLinesVisibility="All" Margin="0,0,0,10"
                           ItemsSource="{Binding AlarmMessageDataList}">
                            <DataGrid.Resources>
                                <Style TargetType="DataGridColumnHeader">
                                    <Setter Property="FontWeight" Value="Bold"/>
                                    <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                </Style>
                            </DataGrid.Resources>
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="序号" Width="75" Binding="{Binding AlarmNumber}">
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="HorizontalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="报警开始时间" Width="180" Binding="{Binding AlarmStartTime}" >
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="HorizontalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="报警类型" Width="150" Binding="{Binding AlarmLevel}" >
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="HorizontalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <!--<DataGridTextColumn Header="电池节号" Width="100" Binding="{Binding BatterySectionNumber}" >
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="HorizontalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>-->
                                <DataGridTextColumn Header="报警描述" Width="550" Binding="{Binding AlarmMessage}" >
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="HorizontalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="是否结束" Width="125" Binding="{Binding isEnd}" >
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="HorizontalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="结束时间" Width="180" Binding="{Binding AlarmStopTime}" >
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="HorizontalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                            </DataGrid.Columns>
                        </DataGrid>
                    </StackPanel>
                </StackPanel>
            </GroupBox>

            <!-- 数据采集及存储设置 -->
            <GroupBox Header="系统概要信息(电压:V SOC:% SOH:% 温度:℃)" Grid.Row="4" Grid.Column="0" >
                <StackPanel >
                    <StackPanel Orientation="Horizontal" Margin="0,10,0,0">

                        <RadioButton x:Name="rbBatteryVoltage" Margin="10,0,0,0" Content="电池电压" IsChecked="{Binding IsChecked_BatteryVoltage}"/>
                        <RadioButton x:Name="rbBatterySOC" Margin="100,0,0,0" Content="电池SOC" IsChecked="{Binding IsChecked_BatterySOC}"/>
                        <RadioButton x:Name="rbBatterySOH" Margin="100,0,0,0" Content="电池SOH" IsChecked="{Binding IsChecked_BatterySOH}"/>
                        <RadioButton x:Name="rbBatteryTemperature" Margin="100,0,0,0" Content="电池温度" IsChecked="{Binding IsChecked_BatteryTemperature}"/>
                        <RadioButton x:Name="rbSupplyVoltage" Margin="100,0,0,0" Content="供电电压" IsChecked="{Binding IsChecked_SupplyVoltage}"/>
                        <RadioButton x:Name="rbPoleTemperature" Margin="100,0,0,0" Content="极柱温度" IsChecked="{Binding IsChecked_PoleTemperature}"/>
                        <RadioButton x:Name="rbModuleTotalVoltage" Margin="100,0,0,0" Content="模块总电压" IsChecked="{Binding IsChecked_ModuleTotalVoltage}"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" Margin="0,10,0,0">

                        <DataGrid  BorderBrush="Gray" BorderThickness="1.5" Name="BatteryDataGrid" AutoGenerateColumns="False" CanUserAddRows="False"  HeadersVisibility="All" GridLinesVisibility="All"  Margin="10"
                            ItemsSource="{Binding BatteryDataList}"  MaxHeight="350" ScrollViewer.VerticalScrollBarVisibility="Auto" IsReadOnly="True">
                            <DataGrid.Resources>
                                <Style TargetType="DataGridColumnHeader">
                                    <Setter Property="FontWeight" Value="Bold"/>
                                    <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                </Style>
                            </DataGrid.Resources>

                            <DataGrid.Columns>
                                <DataGridTextColumn Header="模块编号" Width="80" Binding="{Binding DataName}">
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="HorizontalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="索引名称" Width="80" Binding="{Binding IndexName}" >
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="HorizontalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>

                                <DataGridTextColumn Header="1"        Width="75" Binding="{Binding Value1}">
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="HorizontalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="2"        Width="75" Binding="{Binding Value2}" >
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="HorizontalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="3"        Width="75" Binding="{Binding Value3}" >
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="HorizontalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="4"        Width="75" Binding="{Binding Value4}" >
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="HorizontalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="5"        Width="75" Binding="{Binding Value5}" >
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="HorizontalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="6"        Width="75" Binding="{Binding Value6}" >
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="HorizontalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="7"        Width="75" Binding="{Binding Value7}" >
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="HorizontalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="8"        Width="75" Binding="{Binding Value8}" >
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="HorizontalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="9"        Width="75" Binding="{Binding Value9}" >
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="HorizontalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="10"       Width="75" Binding="{Binding Value10}" >
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="HorizontalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="11"       Width="75" Binding="{Binding Value11}" >
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="HorizontalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="12"       Width="75" Binding="{Binding Value12}" >
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="HorizontalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="13"       Width="75" Binding="{Binding Value13}" >
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="HorizontalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="14"       Width="75" Binding="{Binding Value14}" >
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="HorizontalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="15"       Width="75" Binding="{Binding Value15}" >
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="HorizontalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="16"       Width="75" Binding="{Binding Value16}" >
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="HorizontalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                            </DataGrid.Columns>
                        </DataGrid>
                    </StackPanel>

                </StackPanel>
            </GroupBox>

            <!-- DI、DO及EVHCM数据 -->
            <GroupBox Header="DI、DO及EVHCM数据" Grid.Row="2"  Grid.Column="0" Margin="0,10,0,0">
                <StackPanel Margin="10">
                    <!-- 第一行 -->
                    <StackPanel Orientation="Horizontal" Margin="5">
                        <Label Content="最大值前一:" Margin="5" Width="80"/>
                        <TextBox x:Name="txtBeforeTheMaximumValue" Margin="5" Text="{Binding BeforeTheMaximumValue,UpdateSourceTrigger=PropertyChanged}" Width="80" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="最大值前二:" Margin="5" Width="80"/>
                        <TextBox x:Name="txtTopTwoMaximumValue" Margin="5" Text="{Binding TopTwoMaximumValue,UpdateSourceTrigger=PropertyChanged}" Width="80" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="最大值前三:" Margin="5" Width="80"/>
                        <TextBox x:Name="txtTopThreeMaximumValue" Margin="5" Text="{Binding TopThreeMaximumValue,UpdateSourceTrigger=PropertyChanged}" Width="80" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="极差值:" Margin="5" Width="80"/>
                        <TextBox x:Name="txtRangeValue" Margin="5" Text="{Binding RangeValue,UpdateSourceTrigger=PropertyChanged}" Width="80" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="平均值:" Margin="5" Width="80"/>
                        <TextBox x:Name="txtAverageValue" Margin="5" Text="{Binding AverageValue,UpdateSourceTrigger=PropertyChanged}" Width="80" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="充电均衡:" Margin="5" Width="80"/>
                        <TextBox x:Name="txtChargingBalance" Margin="5" Text="{Binding ChargingBalance,UpdateSourceTrigger=PropertyChanged}" Width="80" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="放电均衡:" Margin="5" Width="80"/>
                        <TextBox x:Name="txtDischargingBalance" Margin="5" Text="{Binding DischargingBalance,UpdateSourceTrigger=PropertyChanged}" Width="80" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                    </StackPanel>

                    <!-- 第二行 -->
                    <StackPanel Orientation="Horizontal" Margin="5">
                        <Label Content="最小值前一:" Margin="5" Width="80"/>
                        <TextBox x:Name="txtBeforeTheMinimumValue" Margin="5" Text="{Binding BeforeTheMinimumValue,UpdateSourceTrigger=PropertyChanged}" Width="80" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="最小值前二:" Margin="5" Width="80"/>
                        <TextBox x:Name="txtTopTwoMinimumValue" Margin="5" Text="{Binding TopTwoMinimumValue,UpdateSourceTrigger=PropertyChanged}" Width="80" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="最小值前三:" Margin="5" Width="80"/>
                        <TextBox x:Name="txtTopThreeMinimumValue" Margin="5" Text="{Binding TopThreeMinimumValue,UpdateSourceTrigger=PropertyChanged}" Width="80" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="模块个数:" Margin="5" Width="80"/>
                        <TextBox x:Name="txtModuleNumber" Margin="5" Text="{Binding ModuleNumber,UpdateSourceTrigger=PropertyChanged}" Width="80" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="电池节数:" Margin="5" Width="80"/>
                        <TextBox x:Name="txtBatteryCellsNumber" Margin="5" Text="{Binding BatteryCellsNumber,UpdateSourceTrigger=PropertyChanged}" Width="80" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="温度个数:" Margin="5" Width="80"/>
                        <TextBox x:Name="txtTemperatureNumber" Margin="5" Text="{Binding TemperatureNumber,UpdateSourceTrigger=PropertyChanged}" Width="80" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="极柱个数:" Margin="5" Width="80"/>
                        <TextBox x:Name="txtPoleNumber" Margin="5" Text="{Binding PoleNumber,UpdateSourceTrigger=PropertyChanged}" Width="80" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                    </StackPanel>

                    <!--第三行-->
                    <!-- 
                        <StackPanel Orientation="Horizontal" >
                            <Label Content="DI状态 :" Margin="10,0,0,0" Width="90"/>

                            <Label Content="DI1:" Margin="10,0,0,0" Width="40"/>
                            <TextBox x:Name="txtDIStatus_DI1"                   Text="{Binding DIStatus_DI1,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"  Foreground="{Binding Text, RelativeSource={RelativeSource Self}, Converter={StaticResource ContainsValidConverter}}"/>
                            <Label Content="DI2:" Margin="50,0,0,0" Width="40"/>
                            <TextBox x:Name="txtDIStatus_DI2" Margin="10,0,0,0" Text="{Binding DIStatus_DI2,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"  Foreground="{Binding Text, RelativeSource={RelativeSource Self}, Converter={StaticResource ContainsValidConverter}}"/>
                            <Label Content="DI3:" Margin="50,0,0,0" Width="40"/>
                            <TextBox x:Name="txtDIStatus_DI3" Margin="10,0,0,0" Text="{Binding DIStatus_DI3,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"  Foreground="{Binding Text, RelativeSource={RelativeSource Self}, Converter={StaticResource ContainsValidConverter}}"/>
                            <Label Content="DI4:" Margin="50,0,0,0" Width="40"/>
                            <TextBox x:Name="txtDIStatus_DI4" Margin="10,0,0,0" Text="{Binding DIStatus_DI4,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"  Foreground="{Binding Text, RelativeSource={RelativeSource Self}, Converter={StaticResource ContainsValidConverter}}"/>
                        </StackPanel>
                        
                        

                         -->
                    <!--第四行-->
                    <!-- 
                        <StackPanel Orientation="Horizontal"  Margin="100,0,0,0">
                            <Label Content="DI5:" Margin="10,0,0,0" Width="40"/>
                            <TextBox x:Name="txtDIStatus_DI5"                   Text="{Binding DIStatus_DI5,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"  Foreground="{Binding Text, RelativeSource={RelativeSource Self}, Converter={StaticResource ContainsValidConverter}}"/>
                            <Label Content="DI6:" Margin="50,0,0,0" Width="40"/>
                            <TextBox x:Name="txtDIStatus_DI6" Margin="10,0,0,0" Text="{Binding DIStatus_DI6,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"  Foreground="{Binding Text, RelativeSource={RelativeSource Self}, Converter={StaticResource ContainsValidConverter}}"/>
                            <Label Content="DI7:" Margin="50,0,0,0" Width="40"/>
                            <TextBox x:Name="txtDIStatus_DI7" Margin="10,0,0,0" Text="{Binding DIStatus_DI7,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"  Foreground="{Binding Text, RelativeSource={RelativeSource Self}, Converter={StaticResource ContainsValidConverter}}"/>
                            <Label Content="DI8:" Margin="50,0,0,0" Width="40"/>
                            <TextBox x:Name="txtDIStatus_DI8" Margin="10,0,0,0" Text="{Binding DIStatus_DI8,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"  Foreground="{Binding Text, RelativeSource={RelativeSource Self}, Converter={StaticResource ContainsValidConverter}}"/>
                        </StackPanel>

                         -->
                    <!--第五行-->
                    <!-- 
                        <StackPanel Orientation="Horizontal" >
                            <Label Content="DO状态 :"  Margin="10,0,0,0" Width="90"/>
                            <Label Content="DO1:" Margin="10,0,0,0" Width="40"/>
                            <TextBox x:Name="txtDOStatus_DO1"                   Text="{Binding DOStatus_DO1,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"  Foreground="{Binding Text, RelativeSource={RelativeSource Self}, Converter={StaticResource ContainsValidConverter}}"/>
                            <Label Content="DO2:" Margin="50,0,0,0" Width="40"/>
                            <TextBox x:Name="txtDOStatus_DO2" Margin="10,0,0,0" Text="{Binding DOStatus_DO2,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"  Foreground="{Binding Text, RelativeSource={RelativeSource Self}, Converter={StaticResource ContainsValidConverter}}"/>
                            <Label Content="DO3:" Margin="50,0,0,0" Width="40"/>
                            <TextBox x:Name="txtDOStatus_DO3" Margin="10,0,0,0" Text="{Binding DOStatus_DO3,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"  Foreground="{Binding Text, RelativeSource={RelativeSource Self}, Converter={StaticResource ContainsValidConverter}}"/>
                            <Label Content="DO4:" Margin="50,0,0,0" Width="40"/>
                            <TextBox x:Name="txtDOStatus_DO4" Margin="10,0,0,0" Text="{Binding DOStatus_DO4,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"  Foreground="{Binding Text, RelativeSource={RelativeSource Self}, Converter={StaticResource ContainsValidConverter}}"/>
                        </StackPanel>

                         -->
                    <!--第六行-->
                    <!-- 
                        <StackPanel Orientation="Horizontal" Margin="100,0,0,0">
                            <Label Content="DO5:" Margin="10,0,0,0" Width="40"/>
                            <TextBox x:Name="txtDOStatus_DO5"                   Text="{Binding DOStatus_DO5,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"  Foreground="{Binding Text, RelativeSource={RelativeSource Self}, Converter={StaticResource ContainsValidConverter}}"/>
                            <Label Content="DO6:" Margin="50,0,0,0" Width="40"/>
                            <TextBox x:Name="txtDOStatus_DO6" Margin="10,0,0,0" Text="{Binding DOStatus_DO6,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"  Foreground="{Binding Text, RelativeSource={RelativeSource Self}, Converter={StaticResource ContainsValidConverter}}"/>
                            <Label Content="DO7:" Margin="50,0,0,0" Width="40"/>
                            <TextBox x:Name="txtDOStatus_DO7" Margin="10,0,0,0" Text="{Binding DOStatus_DO7,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"  Foreground="{Binding Text, RelativeSource={RelativeSource Self}, Converter={StaticResource ContainsValidConverter}}"/>
                            <Label Content="DO8:" Margin="50,0,0,0" Width="40"/>
                            <TextBox x:Name="txtDOStatus_DO8" Margin="10,0,0,0" Text="{Binding DOStatus_DO8,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"  Foreground="{Binding Text, RelativeSource={RelativeSource Self}, Converter={StaticResource ContainsValidConverter}}"/>
                        </StackPanel>-->

                    <!--第三行-->
                    <StackPanel Orientation="Horizontal"  Margin="0,5,0,0">
                        <Label Content="DI状态 :" Margin="10,0,0,0" Width="90"/>
                        <Label Content="DI1:" Margin="10,0,0,0" Width="40"/>
                        <TextBox x:Name="txtDIStatus_DI1"                   Text="{Binding DIStatus_DI1,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="DI2:" Margin="50,0,0,0" Width="40"/>
                        <TextBox x:Name="txtDIStatus_DI2" Margin="10,0,0,0" Text="{Binding DIStatus_DI2,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="DI3:" Margin="50,0,0,0" Width="40"/>
                        <TextBox x:Name="txtDIStatus_DI3" Margin="10,0,0,0" Text="{Binding DIStatus_DI3,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="DI4:" Margin="50,0,0,0" Width="40"/>
                        <TextBox x:Name="txtDIStatus_DI4" Margin="10,0,0,0" Text="{Binding DIStatus_DI4,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="DI5:" Margin="50,0,0,0" Width="40"/>
                        <TextBox x:Name="txtDIStatus_DI5" Margin="10,0,0,0" Text="{Binding DIStatus_DI5,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                    </StackPanel>



                    <!--第四行-->
                    <StackPanel Orientation="Horizontal"  Margin="100,0,0,0">
                        <Label Content="DI6:" Margin="10,0,0,0" Width="40"/>
                        <TextBox x:Name="txtDIStatus_DI6" Text="{Binding DIStatus_DI6,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="DI7:" Margin="50,0,0,0" Width="40"/>
                        <TextBox x:Name="txtDIStatus_DI7" Margin="10,0,0,0" Text="{Binding DIStatus_DI7,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="DI8:" Margin="50,0,0,0" Width="40"/>
                        <TextBox x:Name="txtDIStatus_DI8" Margin="10,0,0,0" Text="{Binding DIStatus_DI8,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="DI9:" Margin="50,0,0,0" Width="40"/>
                        <TextBox x:Name="txtDIStatus_DI9" Margin="10,0,0,0" Text="{Binding DIStatus_DI9,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="DI10:" Margin="50,0,0,0" Width="40"/>
                        <TextBox x:Name="txtDIStatus_DI10" Margin="10,0,0,0" Text="{Binding DIStatus_DI10,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                    </StackPanel>

                    <!--第五行-->
                    <StackPanel Orientation="Horizontal"  Margin="0,5,0,0">
                        <Label Content="DO状态 :"  Margin="10,0,0,0" Width="90"/>
                        <Label Content="DO1:" Margin="10,0,0,0" Width="40"/>
                        <TextBox x:Name="txtDOStatus_DO1"                   Text="{Binding DOStatus_DO1,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="DO2:" Margin="50,0,0,0" Width="40"/>
                        <TextBox x:Name="txtDOStatus_DO2" Margin="10,0,0,0" Text="{Binding DOStatus_DO2,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="DO3:" Margin="50,0,0,0" Width="40"/>
                        <TextBox x:Name="txtDOStatus_DO3" Margin="10,0,0,0" Text="{Binding DOStatus_DO3,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="DO4:" Margin="50,0,0,0" Width="40"/>
                        <TextBox x:Name="txtDOStatus_DO4" Margin="10,0,0,0" Text="{Binding DOStatus_DO4,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                    </StackPanel>

                    <!--第六行-->
                    <StackPanel Orientation="Horizontal" Margin="100,0,0,0">
                        <Label Content="DO5:" Margin="10,0,0,0" Width="40"/>
                        <TextBox x:Name="txtDOStatus_DO5"                   Text="{Binding DOStatus_DO5,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="DO6:" Margin="50,0,0,0" Width="40"/>
                        <TextBox x:Name="txtDOStatus_DO6" Margin="10,0,0,0" Text="{Binding DOStatus_DO6,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="DO7:" Margin="50,0,0,0" Width="40"/>
                        <TextBox x:Name="txtDOStatus_DO7" Margin="10,0,0,0" Text="{Binding DOStatus_DO7,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="DO8:" Margin="50,0,0,0" Width="40"/>
                        <TextBox x:Name="txtDOStatus_DO8" Margin="10,0,0,0" Text="{Binding DOStatus_DO8,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                    </StackPanel>


                    <!--第七行-->
                    <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                        <Label Content="系统状态 :"  Margin="10,0,0,0" Width="90"/>
                        <Label Content="充电:" Margin="10,0,0,0" Width="40"/>
                        <TextBox                    Text="{Binding ChargeStatus,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="放电:" Margin="50,0,0,0" Width="40"/>
                        <TextBox  Margin="10,0,0,0" Text="{Binding DischargeStatus,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="严重故障状态:" Margin="50,0,0,0" Width="90"/>
                        <TextBox  Margin="10,0,0,0" Text="{Binding SeriousFaultStatus,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="并簇模式:" Margin="30,0,0,0" Width="60"/>
                        <TextBox  Margin="10,0,0,0" Text="{Binding ClusterMode,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        <Label Content="单簇模式:" Margin="30,0,0,0" Width="60"/>
                        <TextBox  Margin="10,0,0,0" Text="{Binding SingleClusterMode,UpdateSourceTrigger=PropertyChanged}" Width="150" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                    </StackPanel>
                </StackPanel>
            </GroupBox>

            <!-- 均衡状态 -->
            <GroupBox Header="均衡状态" Grid.Row="6" Grid.Column="0" Margin="0,10,0,10">
                <StackPanel Margin="10" MinHeight="200">
                    <StackPanel Orientation="Horizontal" Margin="5,0,0,0">
                        <Label Content="均衡类型:" Margin="5" Width="100"/>
                        <ComboBox x:Name="cbbEquilibriumType" Width="150" Margin="5,0,0,0" BorderThickness="1" IsReadOnly="True"
                                  ItemsSource="{Binding EquilibriumTypeList}" SelectedItem="{Binding SelectedEquilibriumType,Mode=TwoWay}"/>
                        
                        <Label Content="模块号:" Margin="5" Width="100"/>
                        <ComboBox x:Name="cbModuleNumber" Width="150" Margin="5,0,0,0" BorderThickness="1" IsReadOnly="True"
                                  ItemsSource="{Binding ModuleNumberList}" SelectedItem="{Binding SelectedModuleNumber,Mode=TwoWay}"/>
                        
                        <StackPanel Orientation="Horizontal" Visibility="{Binding PassiveEquilibriumStatus}">
                            <Label Content="帧号:" Margin="5" Width="100"  />
                            <ComboBox x:Name="ckbchg_mos_ct" Width="150" Margin="5,0,0,0" BorderThickness="1" ItemsSource="{Binding PackageNumberList}"   SelectedItem="{Binding SelectedPackageNumber,Mode=TwoWay}"/>
                        </StackPanel>
                    </StackPanel>
                    
                    <StackPanel Visibility="{Binding ActiveEquilibriumStatus}">
                        <StackPanel Orientation="Horizontal" Margin="5,0,0,10">
                            <ItemsControl ItemsSource="{Binding ActiveEquilibriumCheckBoxItems}">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <!-- 使用 GroupBox 包裹每组 CheckBox -->
                                        <GroupBox Header="{Binding Label}"  Margin="0,0,0,0" BorderBrush="Gray" BorderThickness="2" Style="{x:Null}" Width="1100">
                                            <!-- 内层 ItemsControl：用于显示每组的 CheckBox -->
                                            <Grid Tag="{Binding Label}">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="7*"></ColumnDefinition>
                                                    <ColumnDefinition Width="1*"></ColumnDefinition>
                                                </Grid.ColumnDefinitions>
                                                <ItemsControl ItemsSource="{Binding Items}" Grid.Column="0">
                                                    <ItemsControl.ItemsPanel>
                                                        <ItemsPanelTemplate>
                                                            <!-- 使用 UniformGrid 实现每行 8 列 -->
                                                            <UniformGrid Columns="6" />
                                                        </ItemsPanelTemplate>
                                                    </ItemsControl.ItemsPanel>
                                                    <ItemsControl.ItemTemplate>
                                                        <DataTemplate>
                                                            <StackPanel>
                                                                <RadioButton  Margin="5" Width="150"  Content="{Binding A.Label}"  GroupName="{Binding Path=Tag, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Grid}}"  IsChecked="{Binding A.IsChecked, Mode=TwoWay}"  />
                                                                <RadioButton  Margin="5" Width="150"  Content="{Binding B.Label}"  GroupName="{Binding Path=Tag, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Grid}}"  IsChecked="{Binding B.IsChecked, Mode=TwoWay}" />
                                                            </StackPanel>
                                                        </DataTemplate>
                                                    </ItemsControl.ItemTemplate>
                                                </ItemsControl>
                                                <RadioButton  Grid.Column="1" Margin="5"  Width="150"  Content="{Binding ALL.Label}"  GroupName="{Binding Label}"  IsChecked="{Binding ALL.IsChecked, Mode=TwoWay}" />
                                            </Grid>
                                        </GroupBox>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </StackPanel>
                    </StackPanel>


                    <StackPanel Margin="0,0,0,0" Visibility="{Binding PassiveEquilibriumStatus}" >
                        <StackPanel Orientation="Horizontal" Margin="5,0,0,10">
                            <GroupBox Header="{Binding PassiveEquilibriumState}"  BorderBrush="Gray" BorderThickness="2" Style="{x:Null}" Width="1100" >
                                <!-- 使用 ItemsControl 动态生成 CheckBox -->
                                <ItemsControl ItemsSource="{Binding PassiveEquilibriumCheckBoxItems}">
                                    <ItemsControl.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <UniformGrid Columns="8" />
                                        </ItemsPanelTemplate>
                                    </ItemsControl.ItemsPanel>
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <!-- 定义每个 CheckBox 的样式和绑定 -->
                                            <CheckBox Content="{Binding Label}" IsChecked="{Binding IsChecked, Mode=TwoWay}" Margin="5" />
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>
                            </GroupBox>
                        </StackPanel>
                    </StackPanel>
                </StackPanel>
            </GroupBox>

            <!-- 从控模块失联状态 -->
            <GroupBox Header="从控模块失联状态(绿色表示正常，红色表示失联)" Grid.Row="5" Grid.Column="0" Margin="0,10">
                <StackPanel Margin="10">
                    <StackPanel Orientation="Horizontal">
                        <Label Content="从控模块1"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_1}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_1}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块2" Margin="10,0,0,0"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_2}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_2}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块3" Margin="10,0,0,0"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_3}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_3}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块4" Margin="10,0,0,0"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_4}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_4}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块5" Margin="10,0,0,0"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_5}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_5}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块6" Margin="10,0,0,0"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_6}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_6}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块7" Margin="10,0,0,0"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_7}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_7}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块8" Margin="10,0,0,0"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_8}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_8}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块9" Margin="10,0,0,0"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_9}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_9}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块10" Margin="10,0,0,0"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_10}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_10}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块11" Margin="10,0,0,0"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_11}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_11}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块12" Margin="10,0,0,0"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_12}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_12}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块13" Margin="10,0,0,0"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_13}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_13}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块14" Margin="10,0,0,0"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_14}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_14}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块15" Margin="10,0,0,0"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_15}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_15}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块16" Margin="10,0,0,0"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_16}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_16}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>
                    </StackPanel>
                    <!--17-64暂时全部禁用-->
                    <StackPanel Orientation="Horizontal" Visibility="Collapsed" Margin="0,10,0,0">
                        <Label Content="从控模块17" Margin="10,0,0,0" Width="80"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_17}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_17}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块18" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_18}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_18}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块19" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_19}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_19}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块20" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_20}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_20}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块21" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_21}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_21}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块22" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_22}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_22}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块23" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_23}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_23}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块24" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_24}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_24}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" Visibility="Collapsed" Margin="0,10,0,0">
                        <Label Content="从控模块25" Margin="10,0,0,0" Width="80"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_25}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_25}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块26" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_26}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_26}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块27" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_27}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_27}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块28" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_28}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_28}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块29" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_29}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_29}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块30" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_30}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_30}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块31" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_31}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_31}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块32" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_32}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_32}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" Visibility="Collapsed" Margin="0,10,0,0">
                        <Label Content="从控模块33" Margin="10,0,0,0" Width="80"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_33}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_33}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块34" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_34}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_34}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块35" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_35}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_35}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块36" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_36}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_36}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块37" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_37}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_37}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块38" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_38}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_38}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块39" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_39}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_39}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块40" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_40}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_40}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" Visibility="Collapsed" Margin="0,10,0,0">
                        <Label Content="从控模块41" Margin="10,0,0,0" Width="80"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_41}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_41}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块42" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_42}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_42}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块43" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_43}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_43}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块44" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_44}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_44}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块45" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_45}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_45}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块46" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_46}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_46}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块47" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_47}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_47}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块48" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_48}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_48}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" Visibility="Collapsed" Margin="0,10,0,0">
                        <Label Content="从控模块49" Margin="10,0,0,0" Width="80"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_49}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_49}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块50" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_50}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_50}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块51" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_51}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_51}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块52" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_52}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_52}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块53" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_53}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_53}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块54" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_54}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_54}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块55" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_55}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_55}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块56" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_56}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_56}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" Visibility="Collapsed" Margin="0,10,0,0">
                        <Label Content="从控模块57" Margin="10,0,0,0" Width="80"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_57}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_57}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块58" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_58}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_58}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块59" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_59}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_59}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块60" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_60}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_60}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块61" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_61}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_61}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块62" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_62}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_62}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块63" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_63}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_63}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>

                        <Label Content="从控模块64" Margin="8,0,0,0" Width="70"/>
                        <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                            <Ellipse.Style>
                                <Style TargetType="Ellipse">
                                    <Setter Property="Fill" Value="Transparent" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_64}" Value="True">
                                            <Setter Property="Fill" Value="Red" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsOutOfContact_ControlModule_64}" Value="False">
                                            <Setter Property="Fill" Value="Green" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Ellipse.Style>
                        </Ellipse>
                    </StackPanel>
                </StackPanel>
            </GroupBox>

            <!-- 掉线状态 -->
            <GroupBox Header="掉线状态" Grid.Row="7" Grid.Column="0" Margin="0,10,0,10">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>

                    <WrapPanel Orientation="Horizontal" Margin="5">
                        <Label Content="从控模块号" VerticalAlignment="Center"/>
                        <ComboBox x:Name="cbbModuleNum" Width="75" Margin="5 0 0 0" BorderThickness="1" ItemsSource="{Binding ModuleNumList}" SelectedItem="{Binding SelectedModuleNum,Mode=TwoWay}"/>

                        <Label Content="IC类型" VerticalAlignment="Center"/>
                        <TextBox  Margin="5,0" Text="{Binding ICType,UpdateSourceTrigger=PropertyChanged}" Width="100" TextAlignment="Center" VerticalContentAlignment="Center"/>

                        <Label Content="IC序号" VerticalAlignment="Center"/>
                        <TextBox  Margin="5,0" Text="{Binding ICNum,UpdateSourceTrigger=PropertyChanged}" Width="100" TextAlignment="Center" VerticalContentAlignment="Center"/>

                        <Label Content="电池电压采集线束" VerticalAlignment="Center"/>
                        <TextBox Margin="5,0" Text="{Binding BatteryVoltageCollectionHarness,UpdateSourceTrigger=PropertyChanged}" Width="100" TextAlignment="Center" VerticalContentAlignment="Center"/>

                        <Label Content="电池节数" VerticalAlignment="Center"/>
                        <TextBox  Margin="5,0" Text="{Binding BatteryNumber,UpdateSourceTrigger=PropertyChanged}" Width="100" TextAlignment="Center" VerticalContentAlignment="Center"/>

                        <Label Content="电池温度采集线束" VerticalAlignment="Center"/>
                        <TextBox  Margin="5,0" Text="{Binding BatteryTemperatureCollectionHarness,UpdateSourceTrigger=PropertyChanged}" Width="100" TextAlignment="Center" VerticalContentAlignment="Center"/>

                        <Label Content="温度个数" VerticalAlignment="Center"/>
                        <TextBox  Margin="5,0" Text="{Binding TemperaturesNumber,UpdateSourceTrigger=PropertyChanged}" Width="100" TextAlignment="Center" VerticalContentAlignment="Center"/>

                        <Label Content="总电池节数" VerticalAlignment="Center"/>
                        <TextBox  Margin="5,0" Text="{Binding BatteryTotalNumber ,UpdateSourceTrigger=PropertyChanged}" Width="100" TextAlignment="Center" VerticalContentAlignment="Center"/>
                    </WrapPanel>

                    <GroupBox Header="采集线掉线状态(红色表示掉线，绿色表示正常)" BorderBrush="Gray" BorderThickness="1" Style="{x:Null}" Margin="5" Grid.Row="1">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal">
                                <Label Content="电池1" Margin="10,0,0,0" Width="50"/>
                                <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                                    <Ellipse.Style>
                                        <Style TargetType="Ellipse">
                                            <Setter Property="Fill" Value="Transparent" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_1}" Value="True">
                                                    <Setter Property="Fill" Value="Red" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_1}" Value="False">
                                                    <Setter Property="Fill" Value="Green" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Ellipse.Style>
                                </Ellipse>

                                <Label Content="电池2" Margin="10,0,0,0" Width="50"/>
                                <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                                    <Ellipse.Style>
                                        <Style TargetType="Ellipse">
                                            <Setter Property="Fill" Value="Transparent" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_2}" Value="True">
                                                    <Setter Property="Fill" Value="Red" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_2}" Value="False">
                                                    <Setter Property="Fill" Value="Green" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Ellipse.Style>
                                </Ellipse>

                                <Label Content="电池3" Margin="10,0,0,0" Width="50"/>
                                <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                                    <Ellipse.Style>
                                        <Style TargetType="Ellipse">
                                            <Setter Property="Fill" Value="Transparent" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_3}" Value="True">
                                                    <Setter Property="Fill" Value="Red" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_3}" Value="False">
                                                    <Setter Property="Fill" Value="Green" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Ellipse.Style>
                                </Ellipse>

                                <Label Content="电池4" Margin="10,0,0,0" Width="50"/>
                                <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                                    <Ellipse.Style>
                                        <Style TargetType="Ellipse">
                                            <Setter Property="Fill" Value="Transparent" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_4}" Value="True">
                                                    <Setter Property="Fill" Value="Red" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_4}" Value="False">
                                                    <Setter Property="Fill" Value="Green" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Ellipse.Style>
                                </Ellipse>

                                <Label Content="电池5" Margin="10,0,0,0" Width="50"/>
                                <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                                    <Ellipse.Style>
                                        <Style TargetType="Ellipse">
                                            <Setter Property="Fill" Value="Transparent" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_5}" Value="True">
                                                    <Setter Property="Fill" Value="Red" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_5}" Value="False">
                                                    <Setter Property="Fill" Value="Green" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Ellipse.Style>
                                </Ellipse>

                                <Label Content="电池6" Margin="10,0,0,0" Width="50"/>
                                <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                                    <Ellipse.Style>
                                        <Style TargetType="Ellipse">
                                            <Setter Property="Fill" Value="Transparent" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_6}" Value="True">
                                                    <Setter Property="Fill" Value="Red" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_6}" Value="False">
                                                    <Setter Property="Fill" Value="Green" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Ellipse.Style>
                                </Ellipse>

                                <Label Content="电池7" Margin="10,0,0,0" Width="50"/>
                                <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                                    <Ellipse.Style>
                                        <Style TargetType="Ellipse">
                                            <Setter Property="Fill" Value="Transparent" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_7}" Value="True">
                                                    <Setter Property="Fill" Value="Red" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_7}" Value="False">
                                                    <Setter Property="Fill" Value="Green" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Ellipse.Style>
                                </Ellipse>

                                <Label Content="电池8" Margin="10,0,0,0" Width="50"/>
                                <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                                    <Ellipse.Style>
                                        <Style TargetType="Ellipse">
                                            <Setter Property="Fill" Value="Transparent" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_8}" Value="True">
                                                    <Setter Property="Fill" Value="Red" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_8}" Value="False">
                                                    <Setter Property="Fill" Value="Green" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Ellipse.Style>
                                </Ellipse>

                                <Label Content="电池9" Margin="10,0,0,0" Width="50"/>
                                <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                                    <Ellipse.Style>
                                        <Style TargetType="Ellipse">
                                            <Setter Property="Fill" Value="Transparent" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_9}" Value="True">
                                                    <Setter Property="Fill" Value="Red" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_9}" Value="False">
                                                    <Setter Property="Fill" Value="Green" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Ellipse.Style>
                                </Ellipse>

                                <Label Content="电池10" Margin="10,0,0,0" Width="50"/>
                                <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                                    <Ellipse.Style>
                                        <Style TargetType="Ellipse">
                                            <Setter Property="Fill" Value="Transparent" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_10}" Value="True">
                                                    <Setter Property="Fill" Value="Red" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_10}" Value="False">
                                                    <Setter Property="Fill" Value="Green" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Ellipse.Style>
                                </Ellipse>

                                <Label Content="电池11" Margin="10,0,0,0" Width="50"/>
                                <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                                    <Ellipse.Style>
                                        <Style TargetType="Ellipse">
                                            <Setter Property="Fill" Value="Transparent" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_11}" Value="True">
                                                    <Setter Property="Fill" Value="Red" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_11}" Value="False">
                                                    <Setter Property="Fill" Value="Green" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Ellipse.Style>
                                </Ellipse>

                                <Label Content="电池12" Margin="10,0,0,0" Width="50"/>
                                <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                                    <Ellipse.Style>
                                        <Style TargetType="Ellipse">
                                            <Setter Property="Fill" Value="Transparent" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_12}" Value="True">
                                                    <Setter Property="Fill" Value="Red" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_12}" Value="False">
                                                    <Setter Property="Fill" Value="Green" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Ellipse.Style>
                                </Ellipse>

                                <Label Content="电池13" Margin="10,0,0,0" Width="50"/>
                                <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                                    <Ellipse.Style>
                                        <Style TargetType="Ellipse">
                                            <Setter Property="Fill" Value="Transparent" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_13}" Value="True">
                                                    <Setter Property="Fill" Value="Red" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_13}" Value="False">
                                                    <Setter Property="Fill" Value="Green" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Ellipse.Style>
                                </Ellipse>

                                <Label Content="电池14" Margin="10,0,0,0" Width="50"/>
                                <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                                    <Ellipse.Style>
                                        <Style TargetType="Ellipse">
                                            <Setter Property="Fill" Value="Transparent" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_14}" Value="True">
                                                    <Setter Property="Fill" Value="Red" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_14}" Value="False">
                                                    <Setter Property="Fill" Value="Green" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Ellipse.Style>
                                </Ellipse>

                                <Label Content="电池15" Margin="10,0,0,0" Width="50"/>
                                <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                                    <Ellipse.Style>
                                        <Style TargetType="Ellipse">
                                            <Setter Property="Fill" Value="Transparent" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_15}" Value="True">
                                                    <Setter Property="Fill" Value="Red" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_15}" Value="False">
                                                    <Setter Property="Fill" Value="Green" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Ellipse.Style>
                                </Ellipse>

                                <Label Content="电池16" Margin="10,0,0,0" Width="50"/>
                                <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                                    <Ellipse.Style>
                                        <Style TargetType="Ellipse">
                                            <Setter Property="Fill" Value="Transparent" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_16}" Value="True">
                                                    <Setter Property="Fill" Value="Red" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_16}" Value="False">
                                                    <Setter Property="Fill" Value="Green" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Ellipse.Style>
                                </Ellipse>
                            </StackPanel>

                            <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                                <Label Content="电池17" Margin="10,0,0,0" Width="50"/>
                                <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                                    <Ellipse.Style>
                                        <Style TargetType="Ellipse">
                                            <Setter Property="Fill" Value="Transparent" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_17}" Value="True">
                                                    <Setter Property="Fill" Value="Red" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_17}" Value="False">
                                                    <Setter Property="Fill" Value="Green" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Ellipse.Style>
                                </Ellipse>

                                <Label Content="电池18" Margin="10,0,0,0" Width="50"/>
                                <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                                    <Ellipse.Style>
                                        <Style TargetType="Ellipse">
                                            <Setter Property="Fill" Value="Transparent" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_18}" Value="True">
                                                    <Setter Property="Fill" Value="Red" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_18}" Value="False">
                                                    <Setter Property="Fill" Value="Green" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Ellipse.Style>
                                </Ellipse>

                                <Label Content="电池19" Margin="10,0,0,0" Width="50"/>
                                <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                                    <Ellipse.Style>
                                        <Style TargetType="Ellipse">
                                            <Setter Property="Fill" Value="Transparent" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_19}" Value="True">
                                                    <Setter Property="Fill" Value="Red" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_19}" Value="False">
                                                    <Setter Property="Fill" Value="Green" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Ellipse.Style>
                                </Ellipse>

                                <Label Content="电池20" Margin="10,0,0,0" Width="50"/>
                                <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                                    <Ellipse.Style>
                                        <Style TargetType="Ellipse">
                                            <Setter Property="Fill" Value="Transparent" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_20}" Value="True">
                                                    <Setter Property="Fill" Value="Red" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_20}" Value="False">
                                                    <Setter Property="Fill" Value="Green" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Ellipse.Style>
                                </Ellipse>

                                <Label Content="电池21" Margin="10,0,0,0" Width="50"/>
                                <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                                    <Ellipse.Style>
                                        <Style TargetType="Ellipse">
                                            <Setter Property="Fill" Value="Transparent" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_21}" Value="True">
                                                    <Setter Property="Fill" Value="Red" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_21}" Value="False">
                                                    <Setter Property="Fill" Value="Green" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Ellipse.Style>
                                </Ellipse>

                                <Label Content="电池22" Margin="10,0,0,0" Width="50"/>
                                <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                                    <Ellipse.Style>
                                        <Style TargetType="Ellipse">
                                            <Setter Property="Fill" Value="Transparent" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_22}" Value="True">
                                                    <Setter Property="Fill" Value="Red" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_22}" Value="False">
                                                    <Setter Property="Fill" Value="Green" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Ellipse.Style>
                                </Ellipse>

                                <Label Content="电池23" Margin="10,0,0,0" Width="50"/>
                                <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                                    <Ellipse.Style>
                                        <Style TargetType="Ellipse">
                                            <Setter Property="Fill" Value="Transparent" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_23}" Value="True">
                                                    <Setter Property="Fill" Value="Red" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_23}" Value="False">
                                                    <Setter Property="Fill" Value="Green" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Ellipse.Style>
                                </Ellipse>

                                <Label Content="电池24" Margin="10,0,0,0" Width="50"/>
                                <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                                    <Ellipse.Style>
                                        <Style TargetType="Ellipse">
                                            <Setter Property="Fill" Value="Transparent" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_24}" Value="True">
                                                    <Setter Property="Fill" Value="Red" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_24}" Value="False">
                                                    <Setter Property="Fill" Value="Green" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Ellipse.Style>
                                </Ellipse>

                                <Label Content="电池25" Margin="10,0,0,0" Width="50"/>
                                <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                                    <Ellipse.Style>
                                        <Style TargetType="Ellipse">
                                            <Setter Property="Fill" Value="Transparent" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_25}" Value="True">
                                                    <Setter Property="Fill" Value="Red" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_25}" Value="False">
                                                    <Setter Property="Fill" Value="Green" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Ellipse.Style>
                                </Ellipse>

                                <Label Content="电池26" Margin="10,0,0,0" Width="50"/>
                                <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                                    <Ellipse.Style>
                                        <Style TargetType="Ellipse">
                                            <Setter Property="Fill" Value="Transparent" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_26}" Value="True">
                                                    <Setter Property="Fill" Value="Red" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_26}" Value="False">
                                                    <Setter Property="Fill" Value="Green" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Ellipse.Style>
                                </Ellipse>

                                <Label Content="电池27" Margin="10,0,0,0" Width="50"/>
                                <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                                    <Ellipse.Style>
                                        <Style TargetType="Ellipse">
                                            <Setter Property="Fill" Value="Transparent" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_27}" Value="True">
                                                    <Setter Property="Fill" Value="Red" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_27}" Value="False">
                                                    <Setter Property="Fill" Value="Green" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Ellipse.Style>
                                </Ellipse>

                                <Label Content="电池28" Margin="10,0,0,0" Width="50"/>
                                <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                                    <Ellipse.Style>
                                        <Style TargetType="Ellipse">
                                            <Setter Property="Fill" Value="Transparent" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_28}" Value="True">
                                                    <Setter Property="Fill" Value="Red" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_28}" Value="False">
                                                    <Setter Property="Fill" Value="Green" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Ellipse.Style>
                                </Ellipse>

                                <Label Content="电池29" Margin="10,0,0,0" Width="50"/>
                                <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                                    <Ellipse.Style>
                                        <Style TargetType="Ellipse">
                                            <Setter Property="Fill" Value="Transparent" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_29}" Value="True">
                                                    <Setter Property="Fill" Value="Red" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_29}" Value="False">
                                                    <Setter Property="Fill" Value="Green" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Ellipse.Style>
                                </Ellipse>

                                <Label Content="电池30" Margin="10,0,0,0" Width="50"/>
                                <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                                    <Ellipse.Style>
                                        <Style TargetType="Ellipse">
                                            <Setter Property="Fill" Value="Transparent" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_30}" Value="True">
                                                    <Setter Property="Fill" Value="Red" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_30}" Value="False">
                                                    <Setter Property="Fill" Value="Green" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Ellipse.Style>
                                </Ellipse>

                                <Label Content="电池31" Margin="10,0,0,0" Width="50"/>
                                <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                                    <Ellipse.Style>
                                        <Style TargetType="Ellipse">
                                            <Setter Property="Fill" Value="Transparent" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_31}" Value="True">
                                                    <Setter Property="Fill" Value="Red" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_31}" Value="False">
                                                    <Setter Property="Fill" Value="Green" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Ellipse.Style>
                                </Ellipse>

                                <Label Content="电池32" Margin="10,0,0,0" Width="50"/>
                                <Ellipse Width="12" Height="12" VerticalAlignment="Center">
                                    <Ellipse.Style>
                                        <Style TargetType="Ellipse">
                                            <Setter Property="Fill" Value="Transparent" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_32}" Value="True">
                                                    <Setter Property="Fill" Value="Red" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsDisconnect_Bat_32}" Value="False">
                                                    <Setter Property="Fill" Value="Green" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Ellipse.Style>
                                </Ellipse>
                            </StackPanel>
                        </StackPanel>
                    </GroupBox>
                </Grid>
            </GroupBox>

            <!-- 参数设置-->
            <GroupBox Header="参数设置" Grid.Row="8" Grid.Column="0" Margin="0,0,0,10">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="auto"/>
                        <RowDefinition Height="auto"/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>

                    <Button Content="读取主控所有参数" Grid.Row="1" Grid.Column="1" Command="{Binding ReadAllCmd}" HorizontalAlignment="Right" Margin="0 0 5 0"/>

                    <GroupBox Header="主控硬件信息" Grid.Row="1" BorderBrush="Gray" BorderThickness="2" Style="{x:Null}">
                        <StackPanel Orientation="Horizontal" Margin="5,10,0,10">
                            <Label Content="产品名称:" Margin="15,5,0,0" Width="100"/>
                            <ComboBox Margin="5,0,0,5" Width="150" BorderThickness="1" SelectedItem="{Binding ProductName,Mode=TwoWay}" ItemsSource="{Binding ProductNameList}" ></ComboBox>
                            <Button Margin="10,0,0,0" Content="写入" Command="{Binding Write_0x00_Cmd}" />
                        </StackPanel>
                    </GroupBox>
                    
                    <!-- 只读信息 -->
                    <GroupBox Header="版本号" BorderBrush="Gray" BorderThickness="1" Style="{x:Null}" Grid.Row="0"  Grid.ColumnSpan="2">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition/>
                                <RowDefinition/>
                                <RowDefinition/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="auto"/>
                                <ColumnDefinition/>
                                <ColumnDefinition Width="auto"/>
                                <ColumnDefinition/>
                                <ColumnDefinition Width="auto"/>
                                <ColumnDefinition/>
                                <ColumnDefinition Width="auto"/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>

                            <Label Content="主控软件版本:" VerticalAlignment="Center"/>
                            <TextBox Text="{Binding MainControlSoftwareVersion,UpdateSourceTrigger=PropertyChanged}" Grid.Column="1" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                            <Label Content="通讯协议版本:" Grid.Column="2" VerticalAlignment="Center"/>
                            <TextBox Text="{Binding CommunicationProtocolVersion,UpdateSourceTrigger=PropertyChanged}" Grid.Column="3" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                            <Label Content="项目编号:" Grid.Column="4" VerticalAlignment="Center"/>
                            <TextBox Text="{Binding ProjectNum,UpdateSourceTrigger=PropertyChanged}" Grid.Column="5" TextAlignment="Center"  VerticalContentAlignment="Center"/>

                            <Label Content="BMU1软件版本:" Grid.Row="1" VerticalAlignment="Center"/>
                            <TextBox Margin="5,0,0,5" Text="{Binding SlaveControlSoftwareVersion_1,UpdateSourceTrigger=PropertyChanged}" Grid.Row="1" Grid.Column="1" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                            <Label Content="BMU2软件版本:" Grid.Row="1" Grid.Column="2" VerticalAlignment="Center"/>
                            <TextBox Margin="5,0,0,5" Text="{Binding SlaveControlSoftwareVersion_2,UpdateSourceTrigger=PropertyChanged}" Grid.Row="1" Grid.Column="3" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                            <Label Content="BMU3软件版本:" Grid.Row="1" Grid.Column="4" VerticalAlignment="Center"/>
                            <TextBox Margin="5,0,0,5" Text="{Binding SlaveControlSoftwareVersion_3,UpdateSourceTrigger=PropertyChanged}" Grid.Row="1" Grid.Column="5" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                            <Label Content="BMU4软件版本:" Grid.Row="1" Grid.Column="6" VerticalAlignment="Center"/>
                            <TextBox Margin="5,0,0,5" Text="{Binding SlaveControlSoftwareVersion_4,UpdateSourceTrigger=PropertyChanged}" Grid.Row="1" Grid.Column="7" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                            <Label Content="BMU5软件版本:" Grid.Row="2" VerticalAlignment="Center"/>
                            <TextBox Margin="5,0,0,5" Text="{Binding SlaveControlSoftwareVersion_5,UpdateSourceTrigger=PropertyChanged}" Grid.Row="2" Grid.Column="1" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                            <Label Content="BMU6软件版本:" Grid.Row="2" Grid.Column="2" VerticalAlignment="Center"/>
                            <TextBox Margin="5,0,0,5" Text="{Binding SlaveControlSoftwareVersion_6,UpdateSourceTrigger=PropertyChanged}" Grid.Row="2" Grid.Column="3" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                            <Label Content="BMU7软件版本:" Grid.Row="2" Grid.Column="4" VerticalAlignment="Center"/>
                            <TextBox Margin="5,0,0,5" Text="{Binding SlaveControlSoftwareVersion_7,UpdateSourceTrigger=PropertyChanged}" Grid.Row="2" Grid.Column="5" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                            <Label Content="BMU8软件版本:" Grid.Row="2" Grid.Column="6" VerticalAlignment="Center"/>
                            <TextBox Margin="5,0,0,5" Text="{Binding SlaveControlSoftwareVersion_8,UpdateSourceTrigger=PropertyChanged}" Grid.Row="2" Grid.Column="7" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                        </Grid>
                    </GroupBox>

                    <!-- 读写参数 -->
                    <GroupBox Header="自动分配地址" BorderBrush="Gray" BorderThickness="1" Style="{x:Null}" Grid.Row="2">
                        <StackPanel Orientation="Horizontal" Margin="15,5">
                            <Label Content="系统模块总个数:" VerticalAlignment="Center"/>
                            <TextBox Text="{Binding TotalNumberofSystemModules,UpdateSourceTrigger=PropertyChanged}" Width="100" TextAlignment="Center" VerticalContentAlignment="Center"/>
                            <Button Content="自动分配地址" Command="{Binding AutomaticAllocationAddrCmd}" Margin="15 0"/>
                        </StackPanel>
                        
                    </GroupBox>

                    <GroupBox Header="从控模块基本参数" BorderBrush="Gray" BorderThickness="1" Style="{x:Null}" Grid.Row="2" Grid.Column="1">
                        <StackPanel Orientation="Horizontal" Margin="5,0">
                            <Label Content="系统总模块数:" VerticalAlignment="Center" Margin="15 0 0 0"/>
                            <TextBox Text="{Binding  SystemTotalModuleNumber,UpdateSourceTrigger=PropertyChanged}" Width="100" TextAlignment="Center" VerticalContentAlignment="Center"/>
                            <Label Content="系统总电池节数:" VerticalAlignment="Center" Margin="15 0 0 0"/>
                            <TextBox Text="{Binding SystemTotalbatteryNumber,UpdateSourceTrigger=PropertyChanged}" Width="100" TextAlignment="Center" VerticalContentAlignment="Center"/>
                            <Label Content="系统总温度个数:" VerticalAlignment="Center" Margin="15 0 0 0"/>
                            <TextBox Text="{Binding SystemTotalTemperaturesNumber,UpdateSourceTrigger=PropertyChanged}" Width="100" TextAlignment="Center" VerticalContentAlignment="Center"/>
                            <Button Content="写入" Command="{Binding Write_0x14_Cmd}" Margin="15 0 0 0"/>
                        </StackPanel>
                    </GroupBox>

                    <GroupBox Header="实时时钟" BorderBrush="Gray" BorderThickness="1"  Style="{x:Null}" Grid.Row="3">
                        <StackPanel Orientation="Horizontal">
                            <Label Content="RTC:" VerticalAlignment="Center" Margin="15 0 0 0"/>
                            <DatePicker x:Name="datePicker" Width="100" Margin="10,0,0,0" BorderThickness="1" SelectedDate="{Binding SelectedDate, Mode=TwoWay}" VerticalAlignment="Center" HorizontalAlignment="Center" />
                            <ComboBox   x:Name="cbbHour"    Width="50"  Margin="5,0,0,0"  BorderThickness="1" ItemsSource="{Binding HourList}"   SelectedItem="{Binding SelectedHour,   Mode=TwoWay}"/>
                            <ComboBox   x:Name="cbbMinute"  Width="50"  Margin="5,0,0,0"  BorderThickness="1" ItemsSource="{Binding MinuteList}" SelectedItem="{Binding SelectedMinute, Mode=TwoWay}"/>
                            <ComboBox   x:Name="cbbSecond"  Width="50"  Margin="5,0,0,0"  BorderThickness="1" ItemsSource="{Binding SecondList}" SelectedItem="{Binding SelectedSecond, Mode=TwoWay}"/>
                            <Button x:Name="btnWrite_0x12" Margin="10,0,0,0" Content="写入" Command="{Binding Write_0x12_Cmd}"/>
                        </StackPanel>
                    </GroupBox>

                    <GroupBox Header="SOC、SOH参数" BorderBrush="Gray" BorderThickness="1" Style="{x:Null}" Grid.Row="3" Grid.Column="1">
                        <StackPanel Orientation="Horizontal" Margin="5,10,0,10">
                            <Label Content="电池序号:" VerticalAlignment="Center"/>
                            <ComboBox  Width="100"  Margin="5,0,0,0"  BorderThickness="1" ItemsSource="{Binding BatteryNumber_SOC_List}"   SelectedItem="{Binding SelectedBatteryNumber_SOC,   Mode=TwoWay}"/>
                            <Label Content="SOC:" VerticalAlignment="Center"/>
                            <TextBox Margin="5" Text="{Binding SOC,UpdateSourceTrigger=PropertyChanged}" Width="100" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                            <Button x:Name="btnWrite_0x1A_SOC" Margin="10,0,0,0" Content="写入" Command="{Binding Write_0x1A_SOC_Cmd}"/>

                            <Label Content="电池序号:" Margin="15,5,0,0" Width="60"/>
                            <ComboBox  Width="100"  Margin="5,0,0,0"  BorderThickness="1" ItemsSource="{Binding BatteryNumber_SOH_List}"   SelectedItem="{Binding SelectedBatteryNumber_SOH,   Mode=TwoWay}"/>
                            <Label Content="SOH:" Margin="20,5,0,0"/>
                            <TextBox  Margin="5" Text="{Binding SOH,UpdateSourceTrigger=PropertyChanged}" Width="100" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                            <Button x:Name="btnWrite_0x1A_SOH" Margin="10,0,0,0" Content="写入" Command="{Binding Write_0x1A_SOH_Cmd}"/>
                        </StackPanel>
                    </GroupBox>

                    <GroupBox Header="控制主控绝缘检测功能指令" BorderBrush="Gray" BorderThickness="1" Style="{x:Null}" Grid.Row="4">
                        <StackPanel Orientation="Horizontal">
                            <Label Content="主控绝缘检测状态" VerticalAlignment="Center" Margin="10 0 0 0"/>
                            <TextBox x:Name="cbbInsulationDetectionStatus" IsEnabled="False" Width="150"/>
                            <ComboBox x:Name="cbbInsulationDetection" Width="150" Margin="5,0" BorderThickness="1" ItemsSource="{Binding InsulationDetectionList}"   SelectedItem="{Binding SelectedInsulationDetection,Mode=TwoWay}"/>
                            <Button Content="下发指令" Command="{Binding InsulationDetectionCmd}"></Button>
                        </StackPanel>
                    </GroupBox>

                    <GroupBox Header="控制主控上下电指令" BorderBrush="Gray" BorderThickness="1" Style="{x:Null}" Grid.Row="4" Grid.Column="1">
                        <StackPanel Orientation="Horizontal" >
                            <Label Content="上下电:" Margin="5" VerticalAlignment="Center"/>
                            <ComboBox x:Name="cbbPowerOnAndOff" Width="100"  Margin="10,0,5,0"  BorderThickness="1" ItemsSource="{Binding PowerOnAndOffList  }"   SelectedItem="{Binding SelectedPowerOnAndOff,Mode=TwoWay}"/>
                            <Label Content="操作簇说明:" VerticalAlignment="Center"/>
                            <ComboBox x:Name="cbbOperatingInstructions" Width="220"  Margin="5,0"  BorderThickness="1" ItemsSource="{Binding OperatingInstructionsList}"   SelectedItem="{Binding SelectedOperatingInstructions,Mode=TwoWay}"/>
                            <Label Content="故障复归:" VerticalAlignment="Center"/>
                            <ComboBox x:Name="cbbFaultReset" Width="100" Margin="5,0"  BorderThickness="1" ItemsSource="{Binding FaultResetList}"   SelectedItem="{Binding SelectedFaultReset,Mode=TwoWay}"/>
                            <Button Content="写入" Command="{Binding PowerOnAndOffControlCmd}"></Button>
                        </StackPanel>
                    </GroupBox>

                    <GroupBox Header="电流传感器" BorderBrush="Gray" BorderThickness="1" Style="{x:Null}" Grid.Row="5" Grid.ColumnSpan="2">
                        <StackPanel Margin="10">
                            <StackPanel Orientation="Horizontal" Margin="5,0,0,0">
                                <Label Content="电流传感器类型:" VerticalAlignment="Center"/>
                                <TextBox x:Name="txtTypeOfCurrentSensor" Margin="5" Text="{Binding TypeOfCurrentSensor,UpdateSourceTrigger=PropertyChanged}" Width="100" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                                <Label Content="霍尔1电流传感器量程(A):" VerticalAlignment="Center" Margin="5 0 0 0"/>
                                <TextBox x:Name="txtCurrentSensorRange_Hall_1" Margin="5" Text="{Binding CurrentSensorRange_Hall_1,UpdateSourceTrigger=PropertyChanged}" Width="100" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                                <Label Content="霍尔2电流传感器量程(A):" VerticalAlignment="Center" Margin="5 0 0 0"/>
                                <TextBox x:Name="txtCurrentSensorRange_Hall_2" Margin="5" Text="{Binding CurrentSensorRange_Hall_2,UpdateSourceTrigger=PropertyChanged}" Width="100" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                                <Label Content="霍尔3电流传感器量程(A):" VerticalAlignment="Center" Margin="5 0 0 0"/>
                                <TextBox x:Name="txtCurrentSensorRange_Hall_3" Margin="5" Text="{Binding CurrentSensorRange_Hall_3,UpdateSourceTrigger=PropertyChanged}" Width="100" TextAlignment="Center"  VerticalContentAlignment="Center"/>

                                <Button x:Name="btnWrite_0x03_2" Margin="15,0,0,0" Content="写入" Command="{Binding Write_0x26_Cmd}"/>
                            </StackPanel>

                            <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                                <GroupBox  Header="霍尔1" Width="210" Grid.Row="0" Grid.Column="0" Style="{x:Null}">
                                    <StackPanel Orientation="Horizontal" Margin="0,5">
                                        <RadioButton Margin="30,0,0,0" Content="有效"  IsChecked="{Binding IsChecked_Hall1_effective}"/>
                                        <RadioButton Margin="30,0,0,0" Content="无效"  IsChecked="{Binding IsChecked_Hall1_invalid}"/>
                                    </StackPanel>
                                </GroupBox>
                                <GroupBox  Header="霍尔2" Width="210" Grid.Row="0" Grid.Column="0" Margin="10,0,0,0" Style="{x:Null}">
                                    <StackPanel Orientation="Horizontal">
                                        <RadioButton Margin="30,0,0,0" Content="有效"  IsChecked="{Binding IsChecked_Hall2_effective}"/>
                                        <RadioButton Margin="30,0,0,0" Content="无效"  IsChecked="{Binding IsChecked_Hall2_invalid}"/>
                                    </StackPanel>
                                </GroupBox>
                                <GroupBox  Header="霍尔3" Width="210" Grid.Row="0" Grid.Column="0" Margin="10,0,0,0" Style="{x:Null}">
                                    <StackPanel Orientation="Horizontal">
                                        <RadioButton Margin="30,0,0,0" Content="有效"  IsChecked="{Binding IsChecked_Hall3_effective}"/>
                                        <RadioButton Margin="30,0,0,0" Content="无效"  IsChecked="{Binding IsChecked_Hall3_invalid}"/>
                                    </StackPanel>
                                </GroupBox>
                                <GroupBox  Header="霍尔传感器" Width="320" Grid.Row="0" Grid.Column="0" Margin="10,0,0,0" Style="{x:Null}">
                                    <StackPanel Orientation="Horizontal">
                                        <RadioButton Margin="30,0,0,0" Content="双霍尔传感器"  IsChecked="{Binding IsChecked_DoubleHall}"/>
                                        <RadioButton Margin="30,0,0,0" Content="非双霍尔传感器"  IsChecked="{Binding IsChecked_NonDoubleHall}"/>
                                    </StackPanel>
                                </GroupBox>
                            </StackPanel>
                        </StackPanel>
                    </GroupBox>

                    <GroupBox Header="强制均衡命令" BorderBrush="Gray" BorderThickness="1" Style="{x:Null}" Grid.Row="7" Grid.ColumnSpan="2">
                        <StackPanel Margin="10" MinHeight="200">
                            <StackPanel Orientation="Horizontal" Margin="5,0,0,0">
                                <Label Content="均衡类型:" Margin="5" Width="60"/>
                                <ComboBox   Width="100"  BorderThickness="1" ItemsSource="{Binding EquilibriumType_WriteList}"   SelectedItem="{Binding SelectedEquilibriumType_Write,Mode=TwoWay}"/>
                                <Label Content="模块地址:" Margin="5" Width="60"/>
                                <ComboBox   x:Name="cbbModulAddress"    Width="100"  BorderThickness="1" ItemsSource="{Binding ModulAddressList}"   SelectedItem="{Binding SelectedModulAddress,Mode=TwoWay}"/>
                                <Label Content="均衡时间(s):" Margin="10,5,5,5" Width="80"/>
                                <TextBox Margin="5,0,0,5" Text="{Binding EquilibriumTime,UpdateSourceTrigger=PropertyChanged}" Width="100" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                                <Label Content="剩余均衡时间(s):"  Margin="10,5,5,5" Width="100"/>
                                <TextBox Foreground="Red" Margin="5,0,0,5" Text="{Binding RemainingEquilibriumTime,UpdateSourceTrigger=PropertyChanged}" Width="100" TextAlignment="Center"  VerticalContentAlignment="Center"/>
                                <Button Margin="20,0,0,0" Content="启动均衡" Command="{Binding StartBalance_Cmd}" Width="90"></Button>
                                <Button Margin="20,0,0,0" Content="停止均衡" Command="{Binding StopBalance_Cmd}" Width="90"></Button>
                            </StackPanel>

                            <StackPanel Visibility="{Binding ActiveEquilibriumControl}">
                                <StackPanel Orientation="Horizontal" Margin="5,0,0,10">
                                    <!-- 外层 ItemsControl：用于显示分组 -->
                                    <ItemsControl ItemsSource="{Binding ActiveEquilibriumControlItems}">
                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate>
                                                <!-- 使用 GroupBox 包裹每组 CheckBox -->
                                                <GroupBox Header="{Binding Label}"  Margin="0,0,0,0" BorderBrush="Gray" BorderThickness="2" Style="{x:Null}" Width="1100">
                                                    <!-- 内层 ItemsControl：用于显示每组的 CheckBox -->
                                                    <Grid Tag="{Binding Label}">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="7*"></ColumnDefinition>
                                                            <ColumnDefinition Width="1*"></ColumnDefinition>
                                                        </Grid.ColumnDefinitions>
                                                        <ItemsControl ItemsSource="{Binding Items}" Grid.Column="0">
                                                            <ItemsControl.ItemsPanel>
                                                                <ItemsPanelTemplate>
                                                                    <!-- 使用 UniformGrid 实现每行 8 列 -->
                                                                    <UniformGrid Columns="6" />
                                                                </ItemsPanelTemplate>
                                                            </ItemsControl.ItemsPanel>
                                                            <ItemsControl.ItemTemplate>
                                                                <DataTemplate>
                                                                    <StackPanel>
                                                                        <RadioButton  Margin="5" Width="150"  Content="{Binding A.Label}"  GroupName="{Binding Path=Tag, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Grid}}"  IsChecked="{Binding A.IsChecked, Mode=TwoWay}"  />
                                                                        <RadioButton  Margin="5" Width="150"  Content="{Binding B.Label}"  GroupName="{Binding Path=Tag, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Grid}}"  IsChecked="{Binding B.IsChecked, Mode=TwoWay}" />
                                                                    </StackPanel>
                                                                </DataTemplate>
                                                            </ItemsControl.ItemTemplate>
                                                        </ItemsControl>
                                                        <RadioButton  Grid.Column="1" Margin="5"  Width="150"  Content="{Binding ALL.Label}"  GroupName="{Binding Label}"  IsChecked="{Binding ALL.IsChecked, Mode=TwoWay}" />
                                                    </Grid>
                                                </GroupBox>
                                            </DataTemplate>
                                        </ItemsControl.ItemTemplate>
                                    </ItemsControl>
                                </StackPanel>

                            </StackPanel>

                            <StackPanel Visibility="{Binding PassiveEquilibriumControl}">
                                <StackPanel Orientation="Horizontal" Margin="5,0,0,10"  >
                                    <!-- 外层 ItemsControl：用于显示分组 -->
                                    <ItemsControl ItemsSource="{Binding PassiveEquilibriumControlItems}">
                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate>
                                                <!-- 使用 GroupBox 包裹每组 CheckBox -->
                                                <GroupBox Header="{Binding Label}"  Margin="0,0,0,0" BorderBrush="Gray" BorderThickness="2" Style="{x:Null}" Width="1100" >
                                                    <!-- 内层 ItemsControl：用于显示每组的 CheckBox -->
                                                    <Grid Tag="{Binding Label}">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="9*"></ColumnDefinition>
                                                            <ColumnDefinition Width="1*"></ColumnDefinition>
                                                        </Grid.ColumnDefinitions>
                                                        <ItemsControl ItemsSource="{Binding Items}" Grid.Column="0">
                                                            <ItemsControl.ItemsPanel>
                                                                <ItemsPanelTemplate>
                                                                    <!-- 使用 UniformGrid 实现每行 8 列 -->
                                                                    <UniformGrid Columns="8" />
                                                                </ItemsPanelTemplate>
                                                            </ItemsControl.ItemsPanel>
                                                            <ItemsControl.ItemTemplate>
                                                                <DataTemplate>
                                                                    <StackPanel>
                                                                        <CheckBox Margin="5" Width="150" Content="{Binding Label}" IsChecked="{Binding IsChecked, Mode=TwoWay}" />
                                                                    </StackPanel>
                                                                </DataTemplate>
                                                            </ItemsControl.ItemTemplate>
                                                        </ItemsControl>
                                                        <CheckBox Grid.Column="1" Margin="5"  Width="150"  Content="{Binding ALL.Label}"  IsChecked="{Binding ALL.IsChecked, Mode=TwoWay ,UpdateSourceTrigger=PropertyChanged}" 
                                                                  Command="{Binding SelectCommand }" CommandParameter="{Binding IsChecked, RelativeSource={RelativeSource Self}}" >
                                                        </CheckBox>
                                                    </Grid>
                                                </GroupBox>
                                            </DataTemplate>
                                        </ItemsControl.ItemTemplate>
                                    </ItemsControl>
                                </StackPanel>

                            </StackPanel>
                        </StackPanel>
                    </GroupBox>
                    
                    <GroupBox Header="主控DO控制" Margin="0,10,0,5" Padding="0,5" BorderBrush="Gray" BorderThickness="1" Style="{x:Null}" Grid.Row="6" Grid.ColumnSpan="2">
                        <!-- 3 行 4列  -->
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition/>
                                <RowDefinition/>
                                <RowDefinition/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>

                            <!-- 控制 -->
                            <StackPanel Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="4" Orientation="Horizontal" HorizontalAlignment="Right">
                                <Button Margin="10,3,0,0" Content="DO全开" Command="{Binding FullyOpen_DO_Cmd}"/>
                                <Button Margin="10,3,0,0" Content="DO全关" Command="{Binding FullyClose_DO_Cmd}"/>
                                <Button Margin="10,3,0,0" Content="下发控制" Command="{Binding DistributeControlCmd}"/>
                            </StackPanel>

                            <!-- 主正接触器 -->
                            <GroupBox  Header="主正接触器" Grid.Row="1" Margin="3,0,0,0" BorderBrush="BlueViolet" Style="{x:Null}">
                                <StackPanel Orientation="Horizontal" Margin="0,5,0,3">
                                    <RadioButton Margin="15,0" Content="关" Background="Green" IsChecked="{Binding IsChecked_DO1_Close}"/>
                                    <RadioButton Margin="15,0" Content="开" Background="Red" IsChecked="{Binding IsChecked_DO1_Open}"/>
                                </StackPanel>
                            </GroupBox>

                            <!-- 环流接触器 -->
                            <GroupBox Header="环流接触器" Grid.Row="1" Grid.Column="1" Margin="3,0,0,0" BorderBrush="BlueViolet" Style="{x:Null}">
                                <StackPanel Orientation="Horizontal" Margin="0,5,0,3">
                                    <RadioButton Margin="15,0" Content="关" Background="Green" IsChecked="{Binding IsChecked_DO2_Close}"/>
                                    <RadioButton Margin="15,0" Content="开" Background="Red" IsChecked="{Binding IsChecked_DO2_Open}"/>
                                </StackPanel>
                            </GroupBox>

                            <!-- 主负接触器 -->
                            <GroupBox Header="主负接触器" Grid.Row="1" Grid.Column="2" Margin="3,0,0,0" BorderBrush="BlueViolet" Style="{x:Null}">
                                <StackPanel Orientation="Horizontal" Margin="0,5,0,3">
                                    <RadioButton Margin="15,0" Content="关" Background="Green"  IsChecked="{Binding IsChecked_DO3_Close}"/>
                                    <RadioButton Margin="15,0" Content="开" Background="Red" IsChecked="{Binding IsChecked_DO3_Open}"/>
                                </StackPanel>
                            </GroupBox>

                            <!-- DO4 -->
                            <GroupBox Header="DO4" Grid.Row="1" Grid.Column="3" Margin="3,0,0,0"  BorderBrush="BlueViolet" Style="{x:Null}">
                                <StackPanel Orientation="Horizontal" Margin="0,5,0,3">
                                    <RadioButton Margin="15,0" Content="关" Background="Green" IsChecked="{Binding IsChecked_DO4_Close}"/>
                                    <RadioButton Margin="15,0" Content="开" Background="Red"  IsChecked="{Binding IsChecked_DO4_Open}"/>
                                </StackPanel>
                            </GroupBox>

                            <!-- 指示灯-绿 -->
                            <GroupBox Header="指示灯-绿" Grid.Row="2" Grid.Column="0" Margin="3,0,0,0" BorderBrush="BlueViolet" Style="{x:Null}">
                                <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                                    <RadioButton Margin="15,0" Content="关" Background="Green" IsChecked="{Binding IsChecked_DO5_Close}"/>
                                    <RadioButton Margin="15,0" Content="开" Background="Red" IsChecked="{Binding IsChecked_DO5_Open}"/>
                                </StackPanel>
                            </GroupBox>

                            <!-- 指示灯-红 -->
                            <GroupBox Header="指示灯-红" Grid.Row="2" Grid.Column="1" Margin="3,0,0,0" BorderBrush="BlueViolet" Style="{x:Null}">
                                <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                                    <RadioButton Margin="15,0" Content="关" Background="Green" IsChecked="{Binding IsChecked_DO6_Close}"/>
                                    <RadioButton Margin="15,0" Content="开" Background="Red" IsChecked="{Binding IsChecked_DO6_Open}"/>
                                </StackPanel>
                            </GroupBox>

                            <!-- 辅助接触器 -->
                            <GroupBox Header="辅助接触器" Grid.Row="2" Grid.Column="2" Margin="3,0,0,0" BorderBrush="BlueViolet" Style="{x:Null}">
                                <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                                    <RadioButton Margin="15,0" Content="关" Background="Green" IsChecked="{Binding IsChecked_DO7_Close}"/>
                                    <RadioButton Margin="15,0" Content="开" Background="Red" IsChecked="{Binding IsChecked_DO7_Open}"/>
                                </StackPanel>
                            </GroupBox>

                            <!-- DO8 -->
                            <GroupBox Header="DO8" Grid.Row="2" Grid.Column="3" Margin="3,0,0,0" BorderBrush="BlueViolet" Style="{x:Null}">
                                <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                                    <RadioButton Margin="15,0" Content="关" Background="Green" IsChecked="{Binding IsChecked_DO8_Close}"/>
                                    <RadioButton Margin="15,0" Content="开" Background="Red" IsChecked="{Binding IsChecked_DO8_Open}"/>
                                </StackPanel>
                            </GroupBox>
                        </Grid>
                    </GroupBox>
                </Grid>
            </GroupBox>
        </Grid>
    </ScrollViewer>
</UserControl>
